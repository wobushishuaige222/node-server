webpackJsonp([7],{ZDkp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),s=n("exGp"),o=n.n(s),i={name:"category-edit",props:{id:""},data:function(){return{model:{},options:[]}},mounted:function(){this.id&&this.fetch(),this.initOptions()},methods:{fetch:function(){var e=this;return o()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("category/edit/"+e.id);case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}},t,e)}))()},initOptions:function(){var e=this;return o()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("category");case 2:n=t.sent,e.options=n.data;case 4:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0,!e.id){t.next=7;break}return t.next=4,e.$http.put("category/"+e.id,e.model);case 4:t.sent,t.next=10;break;case 7:return t.next=9,e.$http.post("category",e.model);case 9:t.sent;case 10:e.$router.push("/categories/list");case 11:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"category-edit"},[n("strong",[e._v(e._s(e.id?"编辑":"新建")+"分类")]),e._v(" "),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"上级分类"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.options,function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"操作"}},[n("el-button",{attrs:{type:"primary","native-type":"submit",around:""}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},l=n("VU/8")(i,c,!1,null,null,null);t.default=l.exports}});
//# sourceMappingURL=7.b29b1ea7871d8bdedd22.js.map